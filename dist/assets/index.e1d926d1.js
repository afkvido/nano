(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function l(){}function D(e){return e()}function K(){return Object.create(null)}function y(e){e.forEach(D)}function G(e){return typeof e=="function"}function A(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function X(e){return Object.keys(e).length===0}function g(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e){return document.createElement(e)}function F(e){return document.createTextNode(e)}function N(){return F(" ")}function Q(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Y(e){return Array.from(e.childNodes)}function R(e,t){e.value=t==null?"":t}let W;function $(e){W=e}const _=[],U=[],w=[],V=[],Z=Promise.resolve();let j=!1;function ee(){j||(j=!0,Z.then(J))}function T(e){w.push(e)}const O=new Set;let x=0;function J(){const e=W;do{for(;x<_.length;){const t=_[x];x++,$(t),te(t.$$)}for($(null),_.length=0,x=0;U.length;)U.pop()();for(let t=0;t<w.length;t+=1){const n=w[t];O.has(n)||(O.add(n),n())}w.length=0}while(_.length);for(;V.length;)V.pop()();j=!1,O.clear(),$(e)}function te(e){if(e.fragment!==null){e.update(),y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const v=new Set;let ne;function E(e,t){e&&e.i&&(v.delete(e),e.i(t))}function k(e,t,n,o){if(e&&e.o){if(v.has(e))return;v.add(e),ne.c.push(()=>{v.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function q(e){e&&e.c()}function C(e,t,n,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||T(()=>{const s=e.$$.on_mount.map(D).filter(G);e.$$.on_destroy?e.$$.on_destroy.push(...s):y(s),e.$$.on_mount=[]}),i.forEach(T)}function L(e,t){const n=e.$$;n.fragment!==null&&(y(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function re(e,t){e.$$.dirty[0]===-1&&(_.push(e),ee(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function S(e,t,n,o,r,i,s,c=[-1]){const f=W;$(e);const u=e.$$={fragment:null,ctx:[],props:i,update:l,not_equal:r,bound:K(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:K(),dirty:c,skip_bound:!1,root:t.target||f.$$.root};s&&s(u.root);let B=!1;if(u.ctx=n?n(e,t.props||{},(m,M,...P)=>{const H=P.length?P[0]:M;return u.ctx&&r(u.ctx[m],u.ctx[m]=H)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](H),B&&re(e,m)),M}):[],u.update(),B=!0,y(u.before_update),u.fragment=o?o(u.ctx):!1,t.target){if(t.hydrate){const m=Y(t.target);u.fragment&&u.fragment.l(m),m.forEach(d)}else u.fragment&&u.fragment.c();t.intro&&E(e.$$.fragment),C(e,t.target,t.anchor,t.customElement),J()}$(f)}class I{$destroy(){L(this,1),this.$destroy=l}$on(t,n){if(!G(n))return l;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!X(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function oe(e){let t,n,o,r;return{c(){t=h("div"),n=h("pre"),o=F(ie),r=F(`
  `),a(n,"id","fpre"),a(n,"contenteditable",se),a(t,"id","footer"),a(t,"align","center")},m(i,s){p(i,t,s),g(t,n),g(n,o),g(n,r)},p:l,i:l,o:l,d(i){i&&d(t)}}}let ie="[^s] Save 	 [^q] Quit",se=!1;class fe extends I{constructor(t){super(),S(this,t,null,oe,A,{})}}function ue(e){let t,n,o;return{c(){t=h("div"),t.innerHTML="<pre>gemsvido Nano V1</pre>",n=N(),o=h("br"),a(t,"id","header"),a(t,"align","center")},m(r,i){p(r,t,i),p(r,n,i),p(r,o,i)},p:l,i:l,o:l,d(r){r&&d(t),r&&d(n),r&&d(o)}}}class ce extends I{constructor(t){super(),S(this,t,null,ue,A,{})}}function le(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function z(e){let t;return{c(){t=h("pre"),t.textContent=`    [^q] to cancel.
    File name to write:
`},m(n,o){p(n,t,o)},d(n){n&&d(t)}}}function ae(e){let t,n,o,r,i=e[0]==="save"&&z();return{c(){i&&i.c(),t=N(),n=h("textarea"),a(n,"id","text"),a(n,"contenteditable","true")},m(s,c){i&&i.m(s,c),p(s,t,c),p(s,n,c),R(n,e[1]),o||(r=[Q(n,"input",e[3]),Q(n,"input",e[2])],o=!0)},p(s,[c]){s[0]==="save"?i||(i=z(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),c&2&&R(n,s[1])},i:l,o:l,d(s){i&&i.d(s),s&&d(t),s&&d(n),o=!1,y(r)}}}function b(){return localStorage.getItem("nano-text")||""}function de(){return localStorage.removeItem("nano-text"),""}function me(e,t,n){let o="write",r=b();async function i(f){o==="write"&&localStorage.setItem("nano-text",f)}function s(){o==="save"&&r.endsWith(`
`)?(le(r.replace(`
`,""),b()),n(0,o="write"),n(1,r=b())):o==="save"&&r.endsWith("^q")?(n(0,o="write"),n(1,r=b())):o==="write"&&r.endsWith("^q")?n(1,r=de()):o==="write"&&r.endsWith("^s")?(i(r.replace("^s","")),n(0,o="save"),n(1,r="")):o==="write"&&i(r)}function c(){r=this.value,n(1,r)}return[o,r,s,c]}class pe extends I{constructor(t){super(),S(this,t,me,ae,A,{})}}function he(e){let t,n,o,r,i,s,c;return n=new ce({}),r=new pe({}),s=new fe({}),{c(){t=h("main"),q(n.$$.fragment),o=N(),q(r.$$.fragment),i=N(),q(s.$$.fragment),a(t,"id","main")},m(f,u){p(f,t,u),C(n,t,null),g(t,o),C(r,t,null),g(t,i),C(s,t,null),c=!0},p:l,i(f){c||(E(n.$$.fragment,f),E(r.$$.fragment,f),E(s.$$.fragment,f),c=!0)},o(f){k(n.$$.fragment,f),k(r.$$.fragment,f),k(s.$$.fragment,f),c=!1},d(f){f&&d(t),L(n),L(r),L(s)}}}function _e(e){return document.addEventListener("keydown",t=>{document.getElementById("text").focus()}),[]}class ge extends I{constructor(t){super(),S(this,t,_e,he,A,{})}}new ge({target:document.getElementById("app")});
